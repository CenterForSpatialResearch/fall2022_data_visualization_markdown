<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c7{color:#808080;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:9pt;font-family:"Courier New";font-style:normal}.c3{background-color:#1e1e1e;padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:left}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c10{font-size:9pt;font-family:"Courier New";color:#569cd6;font-weight:400}.c16{font-size:9pt;font-family:"Courier New";color:#c586c0;font-weight:400}.c8{font-size:9pt;font-family:"Courier New";color:#ce9178;font-weight:400}.c0{font-size:9pt;font-family:"Courier New";color:#9cdcfe;font-weight:400}.c6{font-size:9pt;font-family:"Courier New";color:#d4d4d4;font-weight:400}.c14{font-size:9pt;font-family:"Courier New";color:#808080;font-weight:400}.c11{font-size:9pt;font-family:"Courier New";color:#dcdcaa;font-weight:400}.c4{font-size:9pt;font-family:"Courier New";color:#b5cea8;font-weight:400}.c17{color:#000000;font-size:11pt;font-family:"Arial"}.c15{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c12{text-decoration:none;vertical-align:baseline;font-style:normal}.c13{height:11pt}.c9{margin-left:36pt}.c1{font-weight:700}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c15"><p class="c5"><span class="c2">In this module you will be introduced to bar, line, and pieModule3Tourofthebasiccharts1Bar.html charts in d3.js.</span></p><p class="c5 c13 c9"><span class="c2"></span></p><p class="c5"><span class="c17 c12 c1">Background</span></p><p class="c5"><span class="c2">We will again use the anscombe dataset, but this time create 3 &nbsp;additional types of charts. </span></p><p class="c5"><span class="c2">We will then put these chart types of the same data side by side to compare and contrast the merit and applicability of each type for any particular dataset. Along the way we will practice encapsulation again and become more familiar with the use of functions to create visualizations.</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c17 c12 c1">Setup - step 0</span></p><p class="c5"><span class="c2">Download the files for module 2 as a zipped folder. Inside you will find 3 files</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5 c9"><span class="c1">Index.html </span><span class="c2">- this is where the structure of our webpage will live. We will create &ldquo;div&rdquo; objects by hand inside this html file to place our charts. It is blank to start with.</span></p><p class="c5 c13 c9"><span class="c2"></span></p><p class="c5 c9"><span class="c1">D3.js - </span><span class="c2">&nbsp;this is the d3 library&rsquo;s contents. We will not be altering this file at all. We will link this this file to our html file so that we can access its contents and use d3.js methods.</span></p><p class="c5 c13 c9"><span class="c2"></span></p><p class="c5 c9"><span class="c1">charts.js - </span><span>This is the file you will write your javascript code in. It is linked to your index.html file in the same way as the d3.js library file. </span><span class="c17 c12 c1">&nbsp;This files is blank with the exception of having the 4 variables for the datasets within anscombe&rsquo;s quartet </span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">As in Module 2, we will link both d3.js and charts.js to our index.html file.</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c3"><span class="c14">&lt;!</span><span class="c10">DOCTYPE</span><span class="c6">&nbsp;</span><span class="c0">html</span><span class="c7">&gt;</span></p><p class="c3"><span class="c14">&lt;</span><span class="c10">meta</span><span class="c6">&nbsp;</span><span class="c0">charset</span><span class="c6">=</span><span class="c8">&quot;utf-8&quot;</span><span class="c7">&gt;</span></p><p class="c3"><span class="c14">&lt;</span><span class="c10">html</span><span class="c7">&gt;</span></p><p class="c3"><span class="c14">&lt;</span><span class="c10">head</span><span class="c7">&gt;</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;</span><span class="c14">&lt;</span><span class="c10">script</span><span class="c6">&nbsp;</span><span class="c0">src</span><span class="c6">=</span><span class="c8">&quot;d3.js&quot;</span><span class="c14">&gt;&lt;/</span><span class="c10">script</span><span class="c7">&gt;</span></p><p class="c3"><span class="c14">&lt;/</span><span class="c10">head</span><span class="c7">&gt;</span></p><p class="c3"><span class="c14">&lt;</span><span class="c10">body</span><span class="c7">&gt;</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;</span><span class="c14">&lt;</span><span class="c10">script</span><span class="c6">&nbsp;</span><span class="c0">src</span><span class="c6">=</span><span class="c8">&quot;charts.js&quot;</span><span class="c14">&gt;&lt;/</span><span class="c10">script</span><span class="c7">&gt;</span></p><p class="c3"><span class="c14">&lt;/</span><span class="c10">body</span><span class="c7">&gt;</span></p><p class="c3"><span class="c14">&lt;/</span><span class="c10">html</span><span class="c7">&gt;</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c17 c12 c1">Barchart</span></p><p class="c5"><span class="c2">A bar chart is simply a series of rectangles. </span></p><p class="c5"><span class="c2">Let&rsquo;s start with a function this time.</span></p><p class="c5"><span class="c2">Here we have the first set of data, and we will chart the x values and the y values separately.</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">We will be placing our svg inside a div element this time. Let&rsquo;s create that element inside the body of &nbsp;index.html. Make sure this line goes above the charts.js reference, as we need this chart div to exist before we run charts.js.</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;</span><span class="c14">&lt;</span><span class="c10">div</span><span class="c6">&nbsp;</span><span class="c0">id</span><span class="c6">=</span><span class="c8">&quot;chart&quot;</span><span class="c14">&gt;</span><span class="c6">our chart will go here</span><span class="c14">&lt;/</span><span class="c10">div</span><span class="c7">&gt;</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span>We should see that the text &ldquo;our chart will go here&rdquo; appears on the browser page once we save our changes.</span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 568.00px;"><img alt="" src="images/image11.png" style="width: 624.00px; height: 568.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span class="c2">Now let&rsquo;s turn to the chart.js file to create that initial chart. chart.js is blank to start with except for the 4 variables set1 - 4 below which are our datasets.</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c3"><span class="c10">var</span><span class="c6">&nbsp;</span><span class="c0">set1</span><span class="c6">&nbsp;= [{</span><span class="c0">x:</span><span class="c4">10</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">8.04</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">6.95</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">13</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">7.58</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">9</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">8.81</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">11</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">8.33</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">14</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">9.96</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">6</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">7.24</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">4</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">4.26</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">12</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">10.84</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">7</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">4.82</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">5</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">5.68</span><span class="c6 c12">}]</span></p><p class="c3 c13"><span class="c6 c12"></span></p><p class="c3"><span class="c10">var</span><span class="c6">&nbsp;</span><span class="c0">set2</span><span class="c6">&nbsp;= [{</span><span class="c0">x:</span><span class="c4">10</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">9.14</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">8.14</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">13</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">8.74</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">9</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">8.77</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">11</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">9.26</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">14</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">8.1</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">6</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">6.13</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">4</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">3.1</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">12</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">9.13</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">7</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">7.26</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">5</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">4.74</span><span class="c6 c12">}]</span></p><p class="c3 c13"><span class="c6 c12"></span></p><p class="c3"><span class="c10">var</span><span class="c6">&nbsp;</span><span class="c0">set3</span><span class="c6">&nbsp;= [{</span><span class="c0">x:</span><span class="c4">10</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">7.46</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">6.77</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">13</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">12.74</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">9</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">7.11</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">11</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">7.81</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">14</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">8.84</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">6</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">6.08</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">4</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">5.39</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">12</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">8.15</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">7</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">6.42</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">5</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">5.73</span><span class="c6 c12">}]</span></p><p class="c3 c13"><span class="c6 c12"></span></p><p class="c3"><span class="c10">var</span><span class="c6">&nbsp;</span><span class="c0">set4</span><span class="c6">&nbsp;= [{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">6.58</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">5.76</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">7.71</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">8.84</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">8.47</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">7.04</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">5.25</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">19</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">12.5</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">5.56</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">7.91</span><span class="c6">},{</span><span class="c0">x:</span><span class="c4">8</span><span class="c6">,</span><span class="c0">y:</span><span class="c4">6.89</span><span class="c6 c12">}]</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c17 c12 c1">Barchart Step 1</span></p><p class="c5"><span class="c2">Start by creating a function called barcharts, which takes 1 input - a dataset variable.</span></p><p class="c3"><span class="c10">function</span><span class="c6">&nbsp;</span><span class="c11">barChart</span><span class="c6">(</span><span class="c0">data</span><span class="c6 c12">){</span></p><p class="c3"><span class="c6 c12">&nbsp; </span></p><p class="c3"><span class="c6 c12">}</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">And let&rsquo;s run this function right away with the variable set1. This function call can be above or below the function declaration. However, it must come after the variable declaration, or set1 would be undefined.</span></p><p class="c3"><span class="c11">barChart</span><span class="c6">(</span><span class="c0">set1</span><span class="c6 c12">)</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">The first thing we can do is add a blank svg to our function. This should be familiar from the last module.</span></p><p class="c3"><span class="c10">function</span><span class="c6">&nbsp;</span><span class="c11">barChart</span><span class="c6">(</span><span class="c0">dataset</span><span class="c6 c12">){</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;</span><span class="c10">var</span><span class="c6">&nbsp;</span><span class="c0">svg</span><span class="c6">&nbsp;= </span><span class="c0">d3</span><span class="c6">.</span><span class="c11">select</span><span class="c6">(</span><span class="c8">&quot;#chart&quot;</span><span class="c6">).</span><span class="c11">append</span><span class="c6">(</span><span class="c8">&quot;svg&quot;</span><span class="c6">).</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;width&quot;</span><span class="c6">,</span><span class="c4">400</span><span class="c6">).</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;height&quot;</span><span class="c6">,</span><span class="c4">400</span><span class="c6 c12">)</span></p><p class="c3"><span class="c6 c12">}</span></p><p class="c5"><span class="c2">We can see that this is correctly run if we open the developer&rsquo;s console and look at the elements tab. We can see that if we expand the div with id &ldquo;chart&rdquo;, there is a svg in it. </span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 645.33px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 645.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span class="c17 c12 c1">Barchart Step 2</span></p><p class="c5"><span>Next let&rsquo;s start drawing our bar chart inside our drawChart function. Once again, we will use the d3 syntax for chaining elements and data together - select, data, enter, append. This time we are appending a &ldquo;rect&rdquo; for rectangle. Remember that &ldquo;dataset&rdquo; is whatever data we passed into the function, in this case it is set1 because we called the function with the command </span><span class="c2">barChart(set1) above.</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5 c13"><span class="c2"></span></p><p class="c3"><span class="c0">svg</span><span class="c6">.</span><span class="c11">selectAll</span><span class="c6">(</span><span class="c8">&quot;rect&quot;</span><span class="c6 c12">)</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;.</span><span class="c11">data</span><span class="c6">(</span><span class="c0">dataset</span><span class="c6 c12">)</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;.</span><span class="c11">enter</span><span class="c6 c12">()</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;.</span><span class="c11">append</span><span class="c6">(</span><span class="c8">&quot;rect&quot;</span><span class="c6 c12">)</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">Take a look at the developer&rsquo;s console after you save this step. You should see if you expand the svg element, that there are 11 rectangle elements inside. Although for now they do not have any attributes and are invisible on the browser page.</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 645.33px;"><img alt="" src="images/image8.png" style="width: 624.00px; height: 645.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span class="c17 c12 c1">Barchart Step 3</span></p><p class="c5"><span class="c2">Let&rsquo;s set attributes with our data. The necessary attributes in a &ldquo;rect&rdquo; element are x, y, width, and height. A rect is drawn from the left upper corner of the coordinate system. So we will have to do some basic math to make sure the bars are in the right position.</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">First, we will set the width of each of the bars to 1 pixel.</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;.</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;width&quot;</span><span class="c6">,</span><span class="c4">1</span><span class="c6 c12">)</span></p><p class="c5"><span class="c2">And the height of each of the bars to the x values of set1</span></p><p class="c3"><span class="c6">.</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;height&quot;</span><span class="c6">,</span><span class="c10">function</span><span class="c6">(</span><span class="c0">d</span><span class="c6 c12">){</span></p><p class="c3"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c16">return</span><span class="c6">&nbsp;</span><span class="c0">d</span><span class="c6">.</span><span class="c0 c12">x</span></p><p class="c3"><span class="c6 c12">&nbsp; &nbsp;})</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">Then we will set the y to 0 - so that these bars are drawn from the top down.</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;.</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;y&quot;</span><span class="c6">,</span><span class="c4">0</span><span class="c6 c12">)</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">And finally we will use the index value(the order that the objects our data is in) to set the x value of each bar. The d is our data of each item in our data array, and i is the index value of each item in our data array.</span></p><p class="c3"><span class="c6">.</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;x&quot;</span><span class="c6">,</span><span class="c10">function</span><span class="c6">(</span><span class="c0">d</span><span class="c6">,</span><span class="c0">i</span><span class="c6 c12">){</span></p><p class="c3"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c16">return</span><span class="c6">&nbsp;</span><span class="c0 c12">i</span></p><p class="c3"><span class="c6 c12">&nbsp; &nbsp;})</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">When we save these attributes, we will see a very very small upside down barchart in our window on the upper left corner. </span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 568.00px;"><img alt="" src="images/image9.png" style="width: 624.00px; height: 568.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span class="c2">Let&rsquo;s zoom in:</span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 568.00px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 568.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span class="c17 c12 c1">Barchart Step 4</span></p><p class="c5"><span class="c2">There are some adjustments we must make here, applying a scale, flipping the chart right side up to be a more traditional bar chart orientation as well as adding axes and labels.</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">Let&rsquo;s start with the familiar d3 scale from the last module. </span></p><p class="c3"><span class="c6">&nbsp; &nbsp;</span><span class="c10">var</span><span class="c6">&nbsp;</span><span class="c0">yScale</span><span class="c6">&nbsp;= </span><span class="c0">d3</span><span class="c6">.</span><span class="c11">scaleLinear</span><span class="c6">().</span><span class="c11">domain</span><span class="c6">([</span><span class="c4">0</span><span class="c6">,</span><span class="c4">20</span><span class="c6">]).</span><span class="c11">range</span><span class="c6">([</span><span class="c4">0</span><span class="c6">,</span><span class="c4">300</span><span class="c6 c12">])</span></p><p class="c5"><span class="c2">And apply it to the height of the bars</span></p><p class="c3"><span class="c6">.</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;height&quot;</span><span class="c6">,</span><span class="c10">function</span><span class="c6">(</span><span class="c0">d</span><span class="c6 c12">){</span></p><p class="c3"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c16">return</span><span class="c6">&nbsp;</span><span class="c11">yScale</span><span class="c6">(</span><span class="c0">d</span><span class="c6">.</span><span class="c0">x</span><span class="c6 c12">)</span></p><p class="c3"><span class="c6 c12">&nbsp; &nbsp;})</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">Now our bars are tall but still 1 pixel wide.</span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 568.00px;"><img alt="" src="images/image4.png" style="width: 624.00px; height: 568.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">Next let&rsquo;s scale the width of the bars. We can once again use a linear scale. But a simpler method would be to directly scale the bars by setting the bar width to more than 1, and multiplying the index by that width to get the x position.</span></p><p class="c3"><span class="c6">.</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;width&quot;</span><span class="c6">,</span><span class="c4">10</span><span class="c6 c12">)</span></p><p class="c3"><span class="c6">.</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;x&quot;</span><span class="c6">,</span><span class="c10">function</span><span class="c6">(</span><span class="c0">d</span><span class="c6">,</span><span class="c0">i</span><span class="c6 c12">){</span></p><p class="c3"><span class="c6">&nbsp; &nbsp; &nbsp;</span><span class="c16">return</span><span class="c6">&nbsp;</span><span class="c0">i</span><span class="c6">*</span><span class="c4 c12">10</span></p><p class="c3"><span class="c6 c12">&nbsp;})</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c17 c12 c1">Barchart Step 5</span></p><p class="c5"><span class="c2">We now have a full size bar chart that is upside down. To get the right position, let&rsquo;s think through the coordinate system a bit. The rectangles are drawn from the top down, but we want to look as if they are bottom up. It is pretty straightforward if we think about this. If we want a bar that is 2 pixels high at the bottom of a 3 pixel high canvas, then we would need to figure out how far down to start the bar, which would be 3-2 in this case, the height of the canvas minus the height of the bar. So let&rsquo;s do that in our code. Currently we have:</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;.</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;y&quot;</span><span class="c6">,</span><span class="c4">0</span><span class="c6 c12">)</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">Let&rsquo;s build a function so that we can access our variables.</span></p><p class="c5"><span class="c2">yScale(d.x) is the height of our bars, and 300 is the height of our canvas, therefore:</span></p><p class="c3"><span class="c6">.</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;y&quot;</span><span class="c6">,</span><span class="c10">function</span><span class="c6">(</span><span class="c0">d</span><span class="c6 c12">){</span></p><p class="c3"><span class="c6">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c16">return</span><span class="c6">&nbsp;</span><span class="c4">300</span><span class="c6">-</span><span class="c11">yScale</span><span class="c6">(</span><span class="c0">d</span><span class="c6">.</span><span class="c0">x</span><span class="c6 c12">)</span></p><p class="c3"><span class="c6 c12">&nbsp; &nbsp;})</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">Now we have a barchart of sorts.</span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 568.00px;"><img alt="" src="images/image7.png" style="width: 624.00px; height: 568.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c17 c12 c1">Barchart Step 6</span></p><p class="c5"><span class="c2">We have so far built this inside a function, and we can change our data between any of the sets we have by simply calling the function again with a different variable input.</span></p><p class="c3"><span class="c11">barChart</span><span class="c6">(</span><span class="c0">set1</span><span class="c6 c12">)</span></p><p class="c3"><span class="c11">barChart</span><span class="c6">(</span><span class="c0">set2</span><span class="c6 c12">)</span></p><p class="c3"><span class="c11">barChart</span><span class="c6">(</span><span class="c0">set3</span><span class="c6 c12">)</span></p><p class="c3"><span class="c11">barChart</span><span class="c6">(</span><span class="c0">set4</span><span class="c6 c12">)</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">And here we have bar graphs of the x values of each set.</span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 617.33px;"><img alt="" src="images/image6.png" style="width: 624.00px; height: 617.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span class="c2">We can see the isolated value of x more clearly than the scatterplot from our previous module. In fact we can see right away that the x values of the first 3 sets are identical. </span></p><p class="c5"><span class="c12 c1 c17">Barchart Step 7</span></p><p class="c5"><span class="c2">Next let&rsquo;s chart the y values. To create a barchart for the y values, we can make another function, or we can expand the flexibility of our current function by adding another input to our existing function.</span></p><p class="c5"><span class="c2">We access the x value (d.x in our code) in 2 places in our function - in the height and y attributes. Let&rsquo;s change that to use an input.</span></p><p class="c3"><span class="c0">d</span><span class="c6">.</span><span class="c0 c12">x</span></p><p class="c5"><span class="c2">Can also be written as</span></p><p class="c3"><span class="c0">d</span><span class="c6">[</span><span class="c8">&quot;x&quot;</span><span class="c6 c12">]</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">Let&rsquo;s change the &ldquo;x&rdquo; to be any column we input into the function. I am using &ldquo;columnInUse&rdquo; as the variable name here. </span></p><p class="c3"><span class="c0">d</span><span class="c6">[</span><span class="c0">columnInUse</span><span class="c6 c12">]</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">Let&rsquo;s also add it to our function declaration at the top, </span></p><p class="c3"><span class="c10">function</span><span class="c6">&nbsp;</span><span class="c11">barChart</span><span class="c6">(</span><span class="c0">data</span><span class="c6">,</span><span class="c0">columnInUse</span><span class="c6 c12">){...</span></p><p class="c5"><span class="c2">and to our function calls. Here we are drawing a barchart for set1 using the x values</span></p><p class="c3"><span class="c11">barChart</span><span class="c6">(</span><span class="c0">set1</span><span class="c6">,</span><span class="c8">&quot;x&quot;</span><span class="c6 c12">)</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">To draw a bar chart for set1 but using y values:</span></p><p class="c3"><span class="c11">barChart</span><span class="c6">(</span><span class="c0">set1</span><span class="c6">,</span><span class="c8">&quot;y&quot;</span><span class="c6">)</span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 196.00px; height: 223.00px;"><img alt="" src="images/image2.png" style="width: 196.00px; height: 223.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c17 c12 c1">Barchart Step 8</span></p><p class="c5"><span class="c2">However no chart is complete without axis and labels that show the scale of our data and what the dataset is. Let&rsquo;s add a title for now to show that this is a barchart of x or y values. We will use the columnInUse input we added above to create a text element.</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;</span><span class="c0">svg</span><span class="c6">.</span><span class="c11">append</span><span class="c6">(</span><span class="c8">&quot;text&quot;</span><span class="c6">).</span><span class="c11">text</span><span class="c6">(</span><span class="c8">columnInUse</span><span class="c6">).</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;x&quot;</span><span class="c6">,</span><span class="c4">10</span><span class="c6">).</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;y&quot;</span><span class="c6">,</span><span class="c4">10</span><span class="c6 c12">)</span></p><p class="c5"><span class="c2">This puts a simple title on bar chart. However, in &nbsp;order to make this function reusable, we would have to change the title depending on the data and column we use.</span></p><p class="c5"><span class="c2">Now if we call the function with x and y values separately, </span></p><p class="c3"><span class="c11">barChart</span><span class="c6">(</span><span class="c0">set1</span><span class="c6">,</span><span class="c8">&quot;x&quot;</span><span class="c6 c12">)</span></p><p class="c3"><span class="c11">barChart</span><span class="c6">(</span><span class="c0">set1</span><span class="c6">,</span><span class="c8">&quot;y&quot;</span><span class="c6 c12">)</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">We would see the titles x and y applied on the top of each.</span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 539.00px; height: 322.00px;"><img alt="" src="images/image10.png" style="width: 539.00px; height: 322.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span class="c17 c12 c1">Barchart Step 9</span></p><p class="c5"><span class="c2">Along those lines we can also pass different inputs to extinguish between the 2 charts as well, using the same function. Let&rsquo;s try a color.</span></p><p class="c5"><span class="c2">Whenever we add an input into a function, we need to edit our code in 3 types of places. The first is the function declaration</span></p><p class="c3"><span class="c10">function</span><span class="c6">&nbsp;</span><span class="c11">barChart</span><span class="c6">(</span><span class="c0">data</span><span class="c6">,</span><span class="c0">columnInUse</span><span class="c6">, </span><span class="c0">fillColor</span><span class="c6 c12">){</span></p><p class="c5"><span class="c2">The 2nd includes all the places where we would like to use the input inside our function. Here we are adding another line to our dot chain by setting the attribute fill for rectangles to the variable input fillColor.</span></p><p class="c3"><span class="c6">&nbsp; &nbsp;.</span><span class="c11">attr</span><span class="c6">(</span><span class="c8">&quot;fill&quot;</span><span class="c6">,</span><span class="c0">fillColor</span><span class="c6">)</span></p><p class="c5"><span class="c2">Finally, we will have to include the actual value of the input in our function call. </span></p><p class="c3"><span class="c11">barChart</span><span class="c6">(</span><span class="c0">set1</span><span class="c6">,</span><span class="c8">&quot;x&quot;</span><span class="c6">,</span><span class="c8">&quot;red&quot;</span><span class="c6 c12">)</span></p><p class="c3"><span class="c11">barChart</span><span class="c6">(</span><span class="c0">set1</span><span class="c6">,</span><span class="c8">&quot;y&quot;</span><span class="c6">,</span><span class="c8">&quot;blue&quot;</span><span class="c6">)</span></p><p class="c5"><span class="c2">Save your edits.</span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 439.50px; height: 270.46px;"><img alt="" src="images/image3.png" style="width: 439.50px; height: 270.46px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c5"><span class="c17 c12 c1">Barchart Step 10</span></p><p class="c5"><span class="c2">On your own:</span></p><p class="c5"><span class="c2">Create x and y charts for each of the sets. You can simply call the function multiple times with different inputs to cover all the values, or you can try to implement a loop if you know how. Both methods are acceptable. Once you have done so, take a look back at our scatterplot work and compare what you see to these pairs of bar charts. Which aspects of the data are more clear with either representation? Which do you prefer? Why?</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c2">Once you have completed the bar charts, let&rsquo;s move on to drawing lines.</span></p><p class="c5 c13"><span class="c2"></span></p><p class="c5"><span class="c17 c12 c1">Bonus</span></p><p class="c5"><span class="c2">Add x and y axes to your chart function. Note - You may have to get creative with the scale of your y axis.</span></p></body></html>
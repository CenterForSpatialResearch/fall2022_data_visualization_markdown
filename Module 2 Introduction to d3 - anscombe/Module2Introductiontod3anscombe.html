<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ul.lst-kix_pyjndsnliqbc-7{list-style-type:none}ul.lst-kix_pyjndsnliqbc-6{list-style-type:none}ul.lst-kix_pyjndsnliqbc-8{list-style-type:none}.lst-kix_pyjndsnliqbc-0>li:before{content:"-  "}ul.lst-kix_pyjndsnliqbc-3{list-style-type:none}.lst-kix_pyjndsnliqbc-8>li:before{content:"-  "}ul.lst-kix_pyjndsnliqbc-2{list-style-type:none}.lst-kix_pyjndsnliqbc-1>li:before{content:"-  "}ul.lst-kix_pyjndsnliqbc-5{list-style-type:none}.lst-kix_pyjndsnliqbc-7>li:before{content:"-  "}ul.lst-kix_pyjndsnliqbc-4{list-style-type:none}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_pyjndsnliqbc-1{list-style-type:none}ul.lst-kix_pyjndsnliqbc-0{list-style-type:none}.lst-kix_pyjndsnliqbc-4>li:before{content:"-  "}.lst-kix_pyjndsnliqbc-3>li:before{content:"-  "}.lst-kix_pyjndsnliqbc-5>li:before{content:"-  "}.lst-kix_pyjndsnliqbc-2>li:before{content:"-  "}.lst-kix_pyjndsnliqbc-6>li:before{content:"-  "}ol{margin:0;padding:0}table td,table th{padding:0}.c2{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c6{background-color:#1e1e1e;padding-top:0pt;padding-bottom:0pt;line-height:1.5;orphans:2;widows:2;text-align:left}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c22{-webkit-text-decoration-skip:none;font-weight:400;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-style:normal}.c28{font-size:11.5pt;font-family:"Courier New";color:#a52a2a;font-weight:400}.c13{font-size:11.5pt;font-family:"Courier New";color:#0000cd;font-weight:400}.c7{font-size:9pt;font-family:"Courier New";color:#9cdcfe;font-weight:400}.c10{font-size:9pt;font-family:"Courier New";color:#dcdcaa;font-weight:400}.c3{font-size:9pt;font-family:"Courier New";color:#ce9178;font-weight:400}.c14{font-size:9pt;font-family:"Courier New";color:#569cd6;font-weight:400}.c19{font-size:11.5pt;font-family:"Courier New";color:#ff0000;font-weight:400}.c17{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c25{font-size:9pt;font-family:"Courier New";color:#c586c0;font-weight:400}.c0{font-size:9pt;font-family:"Courier New";color:#d4d4d4;font-weight:400}.c9{font-size:9pt;font-family:"Courier New";color:#b5cea8;font-weight:400}.c15{font-family:"Courier New";color:#3182bd;font-weight:400}.c18{font-family:"Courier New";color:#756bb1;font-weight:400}.c5{text-decoration:none;vertical-align:baseline;font-style:normal}.c27{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c11{color:#000000;font-size:11pt;font-family:"Arial"}.c23{font-family:"Courier New";color:#e6550d;font-weight:400}.c20{color:inherit;text-decoration:inherit}.c26{padding:0;margin:0}.c12{margin-left:36pt;padding-left:0pt}.c4{height:11pt}.c21{font-size:11pt}.c24{text-indent:36pt}.c16{margin-left:36pt}.c8{font-weight:700}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c27"><p class="c1"><span class="c2">In this module you will be introduced to working with d3.js and create a simple graphic whose dimensions are determined by a famous dataset. </span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c5 c11 c8">Background</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Anscombe&rsquo;s quartet contains 4 datasets with identical descriptive statistical qualities but different distributions. It is often used to illustrate the importance of exploratory visualization and statistical graphics.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Although you don&rsquo;t need historical knowledge of Anscombe, if interested, you can read about it here: https://en.wikipedia.org/wiki/Anscombe%27s_quartet</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">In this tutorial we will start with 1 set of this famous historical quartet to make our first chart - a scatter plot. Then we will replicate the chart by encapsulating our code into a function to produce 3 more scatter plots to complete the visualization quartet.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c5 c11 c8">Prerequisite:</span></p><p class="c1"><span class="c2">Intro to HTML, CSS </span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c5 c11 c8">Step 0. Setup</span></p><p class="c1"><span class="c2">Download the files for module 2 from the fall 2022 course github repository. </span></p><p class="c1"><span class="c17"><a class="c20" href="https://www.google.com/url?q=https://github.com/CenterForSpatialResearch/fall2022_data_visualization/tree/main/module2_anscombe&amp;sa=D&amp;source=editors&amp;ust=1651764098224943&amp;usg=AOvVaw2s1SO2fjzsAu4P9t8Vo9tS">https://github.com/CenterForSpatialResearch/fall2022_data_visualization/tree/main/module2_anscombe</a></span></p><p class="c1 c4"><span class="c11 c22"></span></p><p class="c1"><span class="c2">Inside you will find 3 files that you should be familiar with from the setup module.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1 c16"><span class="c8">Index.html </span><span>- this is where the structure of our webpage will live. We will create &ldquo;div&rdquo; objects by hand inside this html file to place our charts. </span><span class="c8">To start, this is a blank template.</span></p><p class="c1 c4 c16"><span class="c2"></span></p><p class="c1 c16"><span class="c8">D3.js - </span><span class="c2">&nbsp;this is the d3 library file, we are using version 6. We will not be altering this file at all. We will link this file to our html file so that we can access its contents and use d3.js methods.</span></p><p class="c1 c4 c16"><span class="c2"></span></p><p class="c1 c16"><span class="c8">anscombe.js - </span><span>This is the file you will write your javascript code in. It will be linked to your Index.html file in the same way as the d3.js library file. </span><span class="c5 c11 c8">To start, this file is blank.</span></p><p class="c1 c4 c16"><span class="c2"></span></p><p class="c1"><span class="c2">Open the folder with Visual Studio Code:</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Go to &ldquo;File&rdquo; menu in Visual Studio Code, and then clicking on &ldquo;Open Folder&rdquo;, or simply by dragging the folder to the application&rsquo;s icon.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span>Click the </span><span>&ldquo;Go Live&rdquo; </span><span class="c2">button on the lower right corner of the file window. This will open a new browser window with your index page already loaded. Since we have not written any code yet, the new browser window will simply say &ldquo;this is a blank page&rdquo;, as it is written in our index.html file.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 82.00px; height: 39.00px;"><img alt="" src="images/image12.png" style="width: 82.00px; height: 39.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 533.33px;"><img alt="" src="images/image3.png" style="width: 624.00px; height: 533.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c5 c11 c8">Step 1. Link files</span></p><p class="c1"><span class="c2">To Start, let&rsquo;s erase the words this is blank page from our html. </span></p><p class="c1"><span class="c2">Next our index.html file needs access to both the d3 library and the code that we will write ourselves. This is done by creating 2 references within the head section of index.html, for d3.js in the head section of the page, and for anscombe.js in the body section.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1 c16"><span class="c15">&lt;script </span><span class="c23">src</span><span class="c15">=</span><span class="c18">&quot;d3.js&quot;</span><span class="c15 c5 c21">&gt;&lt;/script&gt;</span></p><p class="c1 c4"><span class="c15 c5 c21"></span></p><p class="c1 c16"><span class="c15">&lt;script </span><span class="c23">src</span><span class="c15">=</span><span class="c18">&quot;anscombe.js&quot;</span><span class="c15 c5 c21">&gt;&lt;/script&gt;</span></p><p class="c1 c16"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 553.33px;"><img alt="" src="images/image5.png" style="width: 624.00px; height: 553.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c5 c11 c8">Step 2. A simple SVG drawing</span></p><p class="c1 c4"><span class="c5 c11 c8"></span></p><p class="c1"><span>Now that we have access to all of d3&rsquo;s methods, we can start writing code in our own javascript file (</span><span class="c18">anscombe.js</span><span>). </span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span>Drawing and manipulating svgs, or scalable vector graphics is one of the most useful tools that </span><span>D</span><span class="c2">3 provides. These vector graphics are the same as those generated by Illustrator, but we are using code and data to do so instead of drawing by hand. In more advanced projects, you can export vector graphics from Illustrator to be further edited with d3 code.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Think of the svg as a canvas that we insert into a html div element. </span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">If we were working with just HTML, we would define a svg that is 400x400 within a div element by placing the svg directly within the page, somewhere inside the body section of the HTML structure.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1 c24"><span class="c13">&lt;</span><span class="c28">svg</span><span class="c19">&nbsp;width</span><span class="c13">=&quot;400&quot;</span><span class="c19">&nbsp;height</span><span class="c13">=&quot;400&quot;&gt;&lt;/svg&gt;</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">In d3 code, we would insert that same svg into the body of the page as such:</span></p><p class="c6"><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">svg</span><span class="c0">&nbsp;= </span><span class="c7">d3</span><span class="c0">.</span><span class="c10">select</span><span class="c0">(</span><span class="c3">&quot;body&quot;</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;svg&quot;</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;width&quot;</span><span class="c0">,</span><span class="c9">400</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;height&quot;</span><span class="c0">,</span><span class="c9">400</span><span class="c0 c5">)</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">In the browser, nothing would have visibly changed. The svg is a blank canvas and not visible. Go to the web inspector and click on the elements tab, a svg should appear within the body section.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 645.33px;"><img alt="" src="images/image9.png" style="width: 624.00px; height: 645.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Let&rsquo;s draw a simple circle on our svg. Dot notation is used to chain lines of code together in d3 - you already saw this above with the creation of the svg. We will follow a similar pattern to create a circle. First we append the circle to our svg variable, then we set its attributes. A circle is defined by a minimum of these 3 attributes, &ldquo;r&rdquo; for radius, &ldquo;cx&rdquo; for the x coordinate of its center, and &ldquo;cy&rdquo; for the y coordinate of its center.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c6"><span class="c7">svg</span><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;circle&quot;</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;r&quot;</span><span class="c0">,</span><span class="c9">5</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;cx&quot;</span><span class="c0">,</span><span class="c9">20</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;cy&quot;</span><span class="c0">,</span><span class="c9">20</span><span class="c0 c5">)</span></p><p class="c1"><span class="c2">Now you should see a circle appear on the page.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 617.33px;"><img alt="" src="images/image1.png" style="width: 624.00px; height: 617.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">And this is our first SVG drawing using d3. Not very exciting yet, so let&rsquo;s continue using the same pattern and create a chart by adding some data.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c5 c11 c8">Step 3.The scatterplot</span></p><p class="c1"><span class="c2">A scatterplot is a set of circles where the x and y coordinates are determined by attributes within a dataset. For our example, we will be using the first dataset from Anscombe&rsquo;s quartet. Here is that data as a variable called &ldquo;set1&rdquo;.</span></p><p class="c6"><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">set1</span><span class="c0">&nbsp;= [{</span><span class="c7">x:</span><span class="c9">10</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">8.04</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">6.95</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">13</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">7.58</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">9</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">8.81</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">11</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">8.33</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">14</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">9.96</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">6</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">7.24</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">4</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">4.26</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">12</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">10.84</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">7</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">4.82</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">5</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">5.68</span><span class="c0 c5">}]</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Here is a quick review of data structures in javascript. Set1 is a list(array) of 10 objects. Each object is made of 2 key and value pairs. The keys here are &ldquo;x&rdquo;, and &ldquo;y&rdquo;. Each object has an index in the array, starting with 0. </span></p><p class="c1"><span class="c2">So to get the value of the first item in set1, we would write set1[0]</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">If we print out this first item to the developer&rsquo;s console by writing:</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c6"><span class="c7">console</span><span class="c0">.</span><span class="c10">log</span><span class="c0">(</span><span class="c7">set1</span><span class="c0">[</span><span class="c9">0</span><span class="c0 c5">])</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">We would see the below in the developer&rsquo;s console:</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 245.00px; height: 67.00px;"><img alt="" src="images/image7.png" style="width: 245.00px; height: 67.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span>If we would like to access the x value of the first object within set1, </span><span>then</span><span class="c2">&nbsp;we would get the first object using the index 0 again, and then use the key &ldquo;x&rdquo; to access that value.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">We can use dot notation</span></p><p class="c6"><span class="c7">console</span><span class="c0">.</span><span class="c10">log</span><span class="c0">(</span><span class="c7">set1</span><span class="c0">[</span><span class="c9">0</span><span class="c0">].</span><span class="c7">x</span><span class="c0 c5">)</span></p><p class="c1"><span class="c2">Or we can use square brackets once again, by placing the x in quotation marks.</span></p><p class="c6"><span class="c7">console</span><span class="c0">.</span><span class="c10">log</span><span class="c0">(</span><span class="c7">set1</span><span class="c0">[</span><span class="c9">0</span><span class="c0">][</span><span class="c3">&quot;x&quot;</span><span class="c0 c5">])</span></p><p class="c1"><span class="c2">These both work to access the value 10 and print it out to the console.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Now that we have the data for set1, and have reviewed how to access values within it, let&rsquo;s start building our d3 chain and our scatterplot.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">We start once again with a selection, then this time we will set the data, and attach circles to it.</span></p><p class="c6"><span class="c7">svg</span><span class="c0">.</span><span class="c10">selectAll</span><span class="c0">(</span><span class="c3">&quot;circle&quot;</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">.</span><span class="c10">data</span><span class="c0">(</span><span class="c7">set1</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">.</span><span class="c10">enter</span><span class="c0 c5">()</span></p><p class="c6"><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;circle&quot;</span><span class="c0 c5">)</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Svg is the canvas we created in step 2, which we will be placing our circles on, so we are starting with it. We are selecting circles to create an empty selection in which to place our circles. This is a bit counterintuitive, but something you will quickly get used to in d3 syntax.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">.data(our dataset here) counts and parses the data we want to use. In this case, we are using set1. Set1 is an array with 10 objects in it, therefore everything past this point is done 10 times, 1 for each item in the array.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">.enter() binds the elements you will create to the data you have chosen above.</span></p><p class="c1"><span class="c2">.append(element)</span></p><p class="c1"><span class="c2">We are appending circles for a scatterplot in this case, but you can append anything from HTML paragraphs, to jpeg image tags. </span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Now if we look at the page, nothing will be on the page itself, we will not see circles. That is because we have not set the radius, cx, and cy for these circles. However we can check that they are there by opening the developer&rsquo;s console and expending the svg section in the elements tab. We can see that there are 10 circle elements in our svg. Next we will set their attributes so that they are visible.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 645.33px;"><img alt="" src="images/image6.png" style="width: 624.00px; height: 645.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c2">Let&rsquo;s add the following to our chain:</span></p><p class="c6"><span class="c0">.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;r&quot;</span><span class="c0">,</span><span class="c9">5</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;cx&quot;</span><span class="c0">,</span><span class="c14">function</span><span class="c0">(</span><span class="c7">d</span><span class="c0 c5">){</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c25">return</span><span class="c0">&nbsp;</span><span class="c7">d</span><span class="c0">.</span><span class="c7 c5">x</span></p><p class="c6"><span class="c0 c5">})</span></p><p class="c6"><span class="c0">.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;cy&quot;</span><span class="c0">,</span><span class="c14">function</span><span class="c0">(</span><span class="c7">d</span><span class="c0 c5">){</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c25">return</span><span class="c0">&nbsp;</span><span class="c7">d</span><span class="c0">.</span><span class="c7 c5">y</span></p><p class="c6"><span class="c0 c5">})</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Here we are setting the radius of each of our 10 circles to 5 pixels. And we are setting the circle&rsquo;s x and y values to the x and y values of each of the objects in set1.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">In our developer&rsquo;s console&rsquo;s elements tab, we see that the circle elements inside the svg now has r, cx, and cy attributes set for each one, and we can check that the x and y values do in fact correspond to our dataset set1.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 592.50px; height: 613.66px;"><img alt="" src="images/image10.png" style="width: 592.50px; height: 613.66px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c2">Now let&rsquo;s go to our browser window. We can see the circles on the page, although they are very close together. </span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 551.50px; height: 460.48px;"><img alt="" src="images/image11.png" style="width: 551.50px; height: 460.48px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c2">Why is that? The x and y values we used here are directly translated to pixel values on the screen, which means that the first circle is placed only 10 pixels to the right and 8 pixels from the top of the window. &nbsp;In fact, all these values are too small to be drawn directly without scaling. You will find that it is often the case that values need to be scaled up or down to be visually legible on the screen. Next we will implement a d3 scale to solve this problem.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c5 c11 c8">Step 5 Scale</span></p><p class="c1"><span class="c2">A d3 scale take a set of values as input, and scales them to a different set of values that are more suited for a specific visualization. In this case, we are scaling numerical values that are between 4 and 14 to fit our svg which has the width and height of 400 pixels.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">D3 has different types of scales, but in this example we will start with a linear scale.</span></p><p class="c1"><span class="c2">We declare a variable as a linear scale.</span></p><p class="c6"><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">xScale</span><span class="c0">&nbsp;= </span><span class="c7">d3</span><span class="c0">.</span><span class="c10">scaleLinear</span><span class="c0">()</span></p><p class="c1"><span class="c2">Then we set the input and output of that scale, these are the domain and range.</span></p><p class="c1"><span class="c2">The domain(input) is the extent of values found in your dataset, and the range(output) is the set of resulting values you would like to use for your visualization. Let&rsquo;s add those to our scale.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c6"><span class="c0">.</span><span class="c10">domain</span><span class="c0">([</span><span class="c9">0</span><span class="c0">,</span><span class="c9">20</span><span class="c0 c5">])</span></p><p class="c6"><span class="c0">.</span><span class="c10">range</span><span class="c0">([</span><span class="c9">0</span><span class="c0">,</span><span class="c9">300</span><span class="c0 c5">])</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">For the y scale, we will do something similar, but this time, our smallest values will map to 300, because we want the smaller y values to be at the bottom of our chart.</span></p><p class="c6"><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">yScale</span><span class="c0">&nbsp;= </span><span class="c7">d3</span><span class="c0">.</span><span class="c10">scaleLinear</span><span class="c0 c5">()</span></p><p class="c6"><span class="c0">.</span><span class="c10">domain</span><span class="c0">([</span><span class="c9">0</span><span class="c0">,</span><span class="c9">20</span><span class="c0 c5">])</span></p><p class="c6"><span class="c0">.</span><span class="c10">range</span><span class="c0">([</span><span class="c9">300</span><span class="c0">,</span><span class="c9">0</span><span class="c0">])</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">&nbsp;Now we apply the scale by calling it on specific values, in our case the d.x, and d.y values we are using in drawing our circles like below.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c6"><span class="c0">.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;cx&quot;</span><span class="c0">,</span><span class="c14">function</span><span class="c0">(</span><span class="c7">d</span><span class="c0 c5">){</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c25">return</span><span class="c0">&nbsp;</span><span class="c10">xScale</span><span class="c0">(</span><span class="c7">d</span><span class="c0">.</span><span class="c7">x</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0 c5">})</span></p><p class="c6"><span class="c0">.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;cy&quot;</span><span class="c0">,</span><span class="c14">function</span><span class="c0">(</span><span class="c7">d</span><span class="c0 c5">){</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c25">return</span><span class="c0">&nbsp;</span><span class="c10">yScale</span><span class="c0">(</span><span class="c7">d</span><span class="c0">.</span><span class="c7">y</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0 c5">})</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Now looking at our browser window, we have a clearer view of the circles and the main portion of our first scatterplot is complete.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 520.00px;"><img alt="" src="images/image13.png" style="width: 624.00px; height: 520.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c5 c11 c8">Step 6 axis and labels</span></p><p class="c1"><span class="c2">No chart is complete without references to scale and labeling. Let&rsquo;s add those next.</span></p><p class="c1"><span class="c2">D3 has builtin functionality to create the axis. We declare a variable for the x axis and the y axis.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c6"><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">xAxis</span><span class="c0">&nbsp;= </span><span class="c7">d3</span><span class="c0">.</span><span class="c10">axisBottom</span><span class="c0">().</span><span class="c10">scale</span><span class="c0">(</span><span class="c7">xScale</span><span class="c0">)</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Every axis needs 2 things, its orientation(left, right, bottom, top) and the scale it uses. </span></p><p class="c1"><span class="c2">In our case, our xAxis is on the bottom of the chart, so we will use axisBottom, and we will be using the scale variable we already created to place the circles here. </span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Similarly for the y axis:</span></p><p class="c6"><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">yAxis</span><span class="c0">&nbsp;= </span><span class="c7">d3</span><span class="c0">.</span><span class="c10">axisLeft</span><span class="c0">().</span><span class="c10">scale</span><span class="c0">(</span><span class="c7">yScale</span><span class="c0">)</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">We will see that once again nothing has appeared on the screen, that is because we must now add these to our svg.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">As a rule of thumb, we add each axis as a group, or &ldquo;g&rdquo; element. This keeps the axis components such as ticks and labels together when they need to be altered or styled.</span></p><p class="c1"><span class="c2">So we take 2 steps for each axis, add a group to the svg, and then call the axis.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c6"><span class="c7">svg</span><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;g&quot;</span><span class="c0">).</span><span class="c10">call</span><span class="c0">(</span><span class="c7">xAxis</span><span class="c0 c5">)</span></p><p class="c6"><span class="c7">svg</span><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;g&quot;</span><span class="c0">).</span><span class="c10">call</span><span class="c0">(</span><span class="c7">yAxis</span><span class="c0 c5">)</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Now we can see the x axis at the top of the page - although it is oriented for the bottom with the ticks and number labels below. Similarly we can see a line to the left, that is the y axis with ticks and labels off the screen to the left.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 520.00px;"><img alt="" src="images/image16.png" style="width: 624.00px; height: 520.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">The axis are oriented the right way but their position is at the top and very left of the page. We now need to reposition them, and also our scatterplot circles on the svg so that everything makes sense.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">In order to see the ticks and labels of the y axis, we must move it over to the right and down.</span></p><p class="c1"><span class="c2">Let&rsquo;s add an attribute to move the axis 30 pixels in each direction.</span></p><p class="c6"><span class="c7">svg</span><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;g&quot;</span><span class="c0">).</span><span class="c10">call</span><span class="c0">(</span><span class="c7">yAxis</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;transform&quot;</span><span class="c0">,</span><span class="c3">&quot;translate(30,30)&quot;</span><span class="c0 c5">)</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 514.67px;"><img alt="" src="images/image14.png" style="width: 624.00px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c2">For the x axis, we will need to move the axis 30 pixel each way as well to accommodate what we just did with the y axis. In addition, we will move the x axis to the bottom of the chart by adding 300 pixels(the pixel value which is the maxim for our scale). </span></p><p class="c1 c4"><span class="c2"></span></p><p class="c6"><span class="c7">svg</span><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;g&quot;</span><span class="c0">).</span><span class="c10">call</span><span class="c0">(</span><span class="c7">xAxis</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;transform&quot;</span><span class="c0">,</span><span class="c3">&quot;translate(30,330)&quot;</span><span class="c0">)</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 514.67px;"><img alt="" src="images/image18.png" style="width: 624.00px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">And finally let&rsquo;s not forget that we need to move all our circles 30 pixels in each direction as well to align with the axis. Let&rsquo;s add this line to the bottom of our circle drawing chain.</span></p><p class="c6"><span class="c0">.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;transform&quot;</span><span class="c0">,</span><span class="c3">&quot;translate(30,30)&quot;</span><span class="c0 c5">)</span></p><p class="c1"><span class="c2">The circles have shifted slightly to align with the axis.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 514.67px;"><img alt="" src="images/image2.png" style="width: 624.00px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c2">Finally let&rsquo;s add text labels to our x and y axis. We will position the labels manually for now.</span></p><p class="c6"><span class="c7">svg</span><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;text&quot;</span><span class="c0">).</span><span class="c10">text</span><span class="c0">(</span><span class="c3">&quot;x&quot;</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;x&quot;</span><span class="c0">,</span><span class="c9">160</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;y&quot;</span><span class="c0">,</span><span class="c9">360</span><span class="c0 c5">)</span></p><p class="c6"><span class="c7">svg</span><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;text&quot;</span><span class="c0">).</span><span class="c10">text</span><span class="c0">(</span><span class="c3">&quot;y&quot;</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;x&quot;</span><span class="c0">,</span><span class="c9">0</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;y&quot;</span><span class="c0">,</span><span class="c9">160</span><span class="c0 c5">)</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">And here is our completed scatterplot.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 520.00px;"><img alt="" src="images/image8.png" style="width: 624.00px; height: 520.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c2">We can now go and take a look at the original plot for this set on wikipedia here: https://en.wikipedia.org/wiki/Anscombe%27s_quartet</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span>It is very similar to the first dataset plot pictured here. Now let&rsquo;s try to make the second set.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c8">Step 7 </span><span class="c2">Experiment with changing the data</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Let&rsquo;s add a second dataset from the quartet.</span></p><p class="c6"><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">set2</span><span class="c0">&nbsp;= [{</span><span class="c7">x:</span><span class="c9">10</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">9.14</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">8.14</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">13</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">8.74</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">9</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">8.77</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">11</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">9.26</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">14</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">8.1</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">6</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">6.13</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">4</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">3.1</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">12</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">9.13</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">7</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">7.26</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">5</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">4.74</span><span class="c0 c5">}]</span></p><p class="c6 c4"><span class="c0 c5"></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">And let&rsquo;s see what this one looks like. We can simply go back to where we set the chart data to set1, and change the data to the values in the variable set2</span></p><p class="c6"><span class="c0">.</span><span class="c10">data</span><span class="c0">(</span><span class="c7">set2</span><span class="c0 c5">)</span></p><p class="c1"><span class="c2">When we save this file, we will see an entirely new plot replace our first. </span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 514.67px;"><img alt="" src="images/image17.png" style="width: 624.00px; height: 514.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c8">Step 8 </span><span class="c2">Encapsulation</span></p><p class="c1"><span class="c2">Simply by changing the data we use, we can generate a new plot. What if we can use the code we have written to generate plots for all 4 sets of data in the quartet without repeating the code?</span></p><p class="c1"><span class="c2">We can encapsulate our current code within a function so that when the input into the function changes, a plot using a different dataset is generated.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Let&rsquo;s try it.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">First let&rsquo;s declare a function:</span></p><p class="c6"><span class="c14">function</span><span class="c0">&nbsp;</span><span class="c10">scatterPlot</span><span class="c0 c5">(){</span></p><p class="c6"><span class="c0 c5">&nbsp; </span></p><p class="c6"><span class="c0 c5">}</span></p><p class="c1"><span class="c2">We will copy our existing drawing code inside this function and then call it to draw the scatterplot.</span></p><p class="c6"><span class="c14">function</span><span class="c0">&nbsp;</span><span class="c10">scatterPlot</span><span class="c0 c5">(){</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">svg</span><span class="c0">&nbsp;= </span><span class="c7">d3</span><span class="c0">.</span><span class="c10">select</span><span class="c0">(</span><span class="c3">&quot;body&quot;</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;svg&quot;</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;width&quot;</span><span class="c0">,</span><span class="c9">400</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;height&quot;</span><span class="c0">,</span><span class="c9">400</span><span class="c0 c5">)</span></p><p class="c6 c4"><span class="c0 c5"></span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">xScale</span><span class="c0">&nbsp;= </span><span class="c7">d3</span><span class="c0">.</span><span class="c10">scaleLinear</span><span class="c0 c5">()</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">domain</span><span class="c0">([</span><span class="c9">0</span><span class="c0">,</span><span class="c9">20</span><span class="c0 c5">])</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">range</span><span class="c0">([</span><span class="c9">0</span><span class="c0">,</span><span class="c9">300</span><span class="c0 c5">])</span></p><p class="c6 c4"><span class="c0 c5"></span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">yScale</span><span class="c0">&nbsp;= </span><span class="c7">d3</span><span class="c0">.</span><span class="c10">scaleLinear</span><span class="c0 c5">()</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">domain</span><span class="c0">([</span><span class="c9">0</span><span class="c0">,</span><span class="c9">20</span><span class="c0 c5">])</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">range</span><span class="c0">([</span><span class="c9">300</span><span class="c0">,</span><span class="c9">0</span><span class="c0 c5">])</span></p><p class="c4 c6"><span class="c0 c5"></span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c7">svg</span><span class="c0">.</span><span class="c10">selectAll</span><span class="c0">(</span><span class="c3">&quot;circle&quot;</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">data</span><span class="c0">(</span><span class="c7">set1</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">enter</span><span class="c0 c5">()</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;circle&quot;</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;r&quot;</span><span class="c0">,</span><span class="c9">5</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;cx&quot;</span><span class="c0">,</span><span class="c14">function</span><span class="c0">(</span><span class="c7">d</span><span class="c0 c5">){</span></p><p class="c6"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c25">return</span><span class="c0">&nbsp;</span><span class="c10">xScale</span><span class="c0">(</span><span class="c7">d</span><span class="c0">.</span><span class="c7">x</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0 c5">&nbsp; &nbsp;})</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;cy&quot;</span><span class="c0">,</span><span class="c14">function</span><span class="c0">(</span><span class="c7">d</span><span class="c0 c5">){</span></p><p class="c6"><span class="c0">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="c25">return</span><span class="c0">&nbsp;</span><span class="c10">yScale</span><span class="c0">(</span><span class="c7">d</span><span class="c0">.</span><span class="c7">y</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0 c5">&nbsp; &nbsp;})</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;transform&quot;</span><span class="c0">,</span><span class="c3">&quot;translate(30,30)&quot;</span><span class="c0 c5">)</span></p><p class="c6 c4"><span class="c0 c5"></span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">xAxis</span><span class="c0">&nbsp;= </span><span class="c7">d3</span><span class="c0">.</span><span class="c10">axisBottom</span><span class="c0">().</span><span class="c10">scale</span><span class="c0">(</span><span class="c7">xScale</span><span class="c0 c5">)</span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">yAxis</span><span class="c0">&nbsp;= </span><span class="c7">d3</span><span class="c0">.</span><span class="c10">axisLeft</span><span class="c0">().</span><span class="c10">scale</span><span class="c0">(</span><span class="c7">yScale</span><span class="c0 c5">)</span></p><p class="c6 c4"><span class="c0 c5"></span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c7">svg</span><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;g&quot;</span><span class="c0">).</span><span class="c10">call</span><span class="c0">(</span><span class="c7">xAxis</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;transform&quot;</span><span class="c0">,</span><span class="c3">&quot;translate(30,330)&quot;</span><span class="c0 c5">)</span></p><p class="c6 c4"><span class="c0 c5"></span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c7">svg</span><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;g&quot;</span><span class="c0">).</span><span class="c10">call</span><span class="c0">(</span><span class="c7">yAxis</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;transform&quot;</span><span class="c0">,</span><span class="c3">&quot;translate(30,30)&quot;</span><span class="c0 c5">)</span></p><p class="c6 c4"><span class="c0 c5"></span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c7">svg</span><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;text&quot;</span><span class="c0">).</span><span class="c10">text</span><span class="c0">(</span><span class="c3">&quot;x&quot;</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;x&quot;</span><span class="c0">,</span><span class="c9">160</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;y&quot;</span><span class="c0">,</span><span class="c9">360</span><span class="c0 c5">)</span></p><p class="c6 c4"><span class="c0 c5"></span></p><p class="c6"><span class="c0">&nbsp; &nbsp;</span><span class="c7">svg</span><span class="c0">.</span><span class="c10">append</span><span class="c0">(</span><span class="c3">&quot;text&quot;</span><span class="c0">).</span><span class="c10">text</span><span class="c0">(</span><span class="c3">&quot;y&quot;</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;x&quot;</span><span class="c0">,</span><span class="c9">0</span><span class="c0">).</span><span class="c10">attr</span><span class="c0">(</span><span class="c3">&quot;y&quot;</span><span class="c0">,</span><span class="c9">160</span><span class="c0 c5">)</span></p><p class="c6 c4"><span class="c0 c5"></span></p><p class="c6"><span class="c0 c5">}</span></p><p class="c6 c4"><span class="c2"></span></p><p class="c1"><span class="c2">&nbsp;Once you save this change, you will see the scatterplot disappear from the browser page. That is because we must call the function for it to run again.</span></p><p class="c6"><span class="c10">scatterPlot</span><span class="c0 c5">()</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">And if we call this function multiple times, we will see multiple svgs with scatterplots appear on the page. Try 4.</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c6"><span class="c10">scatterPlot</span><span class="c0 c5">()</span></p><p class="c6"><span class="c10">scatterPlot</span><span class="c0 c5">()</span></p><p class="c6"><span class="c10">scatterPlot</span><span class="c0 c5">()</span></p><p class="c6"><span class="c10">scatterPlot</span><span class="c0 c5">()</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 658.67px;"><img alt="" src="images/image15.png" style="width: 624.00px; height: 658.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c2">However, each of these are identical. To really be useful, the plot would be set independently for each time the function is run. Let&rsquo;s reproduce the quartet next with its 4 sets of data. </span></p><p class="c1 c4"><span class="c5 c11 c8"></span></p><p class="c1"><span class="c8">Step 9 </span><span class="c2">Reproducing the rest of the quartet</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">First here are the rest of the quartet as 2 additional variables.</span></p><p class="c6"><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">set3</span><span class="c0">&nbsp;= [{</span><span class="c7">x:</span><span class="c9">10</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">7.46</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">6.77</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">13</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">12.74</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">9</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">7.11</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">11</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">7.81</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">14</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">8.84</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">6</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">6.08</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">4</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">5.39</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">12</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">8.15</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">7</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">6.42</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">5</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">5.73</span><span class="c0 c5">}]</span></p><p class="c6 c4"><span class="c0 c5"></span></p><p class="c6"><span class="c14">var</span><span class="c0">&nbsp;</span><span class="c7">set4</span><span class="c0">&nbsp;= [{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">6.58</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">5.76</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">7.71</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">8.84</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">8.47</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">7.04</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">5.25</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">19</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">12.5</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">5.56</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">7.91</span><span class="c0">},{</span><span class="c7">x:</span><span class="c9">8</span><span class="c0">,</span><span class="c7">y:</span><span class="c9">6.89</span><span class="c0 c5">}]</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Let&rsquo;s specify an input for the function we already wrote so that we can set it for each time the function is run. For clarity, we will call it inputDataset and place it between the parentheses where the function was declared:</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c6"><span class="c14">function</span><span class="c0">&nbsp;</span><span class="c10">scatterPlot</span><span class="c0 c5">(inputDataset){....}</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Next, we will use this input inside the function. Let&rsquo;s set the .data() part of our code to use inputDataset each time. </span></p><p class="c6"><span class="c0">&nbsp; &nbsp;.</span><span class="c10">data</span><span class="c0">(</span><span class="c7">inputDataset</span><span class="c0 c5">)</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">Now when we call the function, we will have to provide a inputDataset. &nbsp;Let&rsquo;s try it.</span></p><p class="c1"><span class="c2">Here we are calling the function with the set1 variable as the input.</span></p><p class="c6"><span class="c10">scatterPlot</span><span class="c0">(</span><span class="c7">set1</span><span class="c0 c5">)</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">We can see that the set1 plot has reappeared on the page. Let&rsquo;s try with the other sets:</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c6"><span class="c10">scatterPlot</span><span class="c0">(</span><span class="c7">set1</span><span class="c0 c5">)</span></p><p class="c6"><span class="c10">scatterPlot</span><span class="c0">(</span><span class="c7">set2</span><span class="c0 c5">)</span></p><p class="c6"><span class="c10">scatterPlot</span><span class="c0">(</span><span class="c7">set3</span><span class="c0 c5">)</span></p><p class="c6"><span class="c10">scatterPlot</span><span class="c0">(</span><span class="c7">set4</span><span class="c0 c5">)</span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span class="c2">And here we have it, Anscombe&rsquo;s quartet in d3.js</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 624.00px; height: 661.33px;"><img alt="" src="images/image4.png" style="width: 624.00px; height: 661.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c4"><span class="c2"></span></p><p class="c1"><span>Please save your results and upload them to your personal github repository for class.</span></p><p class="c1 c4"><span class="c5 c8 c11"></span></p><p class="c1"><span class="c2">For further information on the topics you learned in the tutorial and adjacent topics, check out the linked references.</span></p><ul class="c26 lst-kix_pyjndsnliqbc-0 start"><li class="c1 c12 li-bullet-0"><span class="c2">Drawing in svg</span></li><li class="c1 c12 li-bullet-0"><span class="c2">Scales</span></li><li class="c1 c12 li-bullet-0"><span class="c2">Axis</span></li><li class="c1 c12 li-bullet-0"><span>Encapsulating code into a function</span></li></ul><p class="c1 c4"><span class="c2"></span></p></body></html>